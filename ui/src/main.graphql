query GetSudoku {
  sudoku {
    board
    refHead {
      id
      commits {
        id
        row
        col
        val
      }
    }
  }
}

query GetRefHead($id: ID!) {
  refHead(id: $id) {
    commit {
      id
      ...CommitBlob
      type
      row
      col
      val
    }
  }
}

mutation AddCommit($input: CommitInput!) {
  commit(input: $input) {
    ...CommitBlob
  }
}

subscription OnCommitAdded($refHeadId: ID!) {
  commitAdded(refHeadId: $refHeadId) {
    ...CommitBlob
  }
}

fragment CommitBlob on Commit {
  blob {
    board {
      immutable
      val
      notes
    }
  }
}
