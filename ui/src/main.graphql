query GetSudoku {
  sudoku {
    board
    refHead {
      ...LiteRefHead
    }
  }
}

query GetLiteRefHead($id: ID!) {
  refHead(id: $id) {
    ...LiteRefHead
  }
}

query GetFullRefHead($id: ID!) {
  refHead(id: $id) {
    ...FullRefHead
  }
}

fragment LiteRefHead on RefHead {
  id
  commit {
    ...Commit
  }
}

fragment FullRefHead on RefHead {
  ...LiteRefHead
  commits {
    ...Commit
  }
}

mutation AddCommit($input: CommitInput!) {
  commit(input: $input) {
    ...Commit
  }
}

subscription OnCommitAdded($refHeadId: ID!) {
  commitAdded(refHeadId: $refHeadId) {
    ...Commit
  }
}

fragment Commit on Commit {
  id
  ...CommitBlob
  type
  row
  col
  val
}

fragment CommitBlob on Commit {
  blob {
    board {
      immutable
      val
      notes
    }
  }
}
